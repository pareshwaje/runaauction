<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>RunAnAcution</title>
</head>

<body>
    <header>
        <div class="nav-menu">
            <ul>
                <li><a href="./index.html">Home</a></li>
                <li><a href="./Run-an-Auction.html">Run-an-Auction</a></li>
                <li><a href="./your-auctions.html">Your-Auctions</a></li>
                <li><a href="./Match-Stats.html">Match-Stats</a></li>
            </ul>
            <ul>
                <li><a id="signup" href="#">Signup</a></li>
                <li><a id="login" href="#">Login</a></li>
            </ul>
        </div>
    </header>
    <section>
        <div class="card-container">
            <div class="card card-1">
                <h2 class="card-title">card 2 title</h2>
                <hr />
                <span class="card-subheadline">This is subheadline text for card 1</span>
            </div>
            <div class="card card-2">
                <h2 class="card-title">Card 2 Title</h2>
                <hr />
                <span class="card-subheadline">This is subheadline text for card 2</span>
            </div>
            <div class="card card-3">
                <h2 class="card-title">Card 3 Title</h2>
                <hr />
                <span class="card-subheadline">This is subheadline text for card 3</span>
            </div>
            <div class="card card-4">
                <h2 class="card-title">Card 4 Title</h2>
                <hr />
                <span class="card-subheadline">This is subheadline text for card 4</span>
            </div>
            <div class="card card-5">
                <h2 class="card-title">Card 5 Title</h2>
                <hr />
                <span class="card-subheadline">This is subheadline text for card 5</span>
            </div>
            <div class="card card-6">
                <h2 class="card-title">Card 6 Title</h2>
                <hr />
                <span class="card-subheadline">This is subheadline text for card 6</span>
            </div>
        </div>
        <div class="container-your-auctions">
            <h1>Auction Details</h1>
            <div id="auctionDetails">
            </div>
            <button id="deleteAuction" class="delete-auction-btn">Delete Auction</button>
            <a href="Run-an-Auction.html">Go Back to Create Auction</a>
    </section>
    <section>
        <!-- Add Players Form -->
        <div class="forms-container">
            <form class="form-container player-form">
                <h2 class="form-title">Add Players</h2>

                <div class="form-group">
                    <label class="form-label" for="playerName">Player Name:</label>
                    <input class="form-input" type="text" id="playerName" name="playerName"
                        placeholder="Enter player name" required>
                </div>

                <div class="form-group">
                    <label class="form-label" for="jerseyName">Jersey Name:</label>
                    <input class="form-input" type="text" id="jerseyName" name="jerseyName"
                        placeholder="Enter jersey name" required>
                </div>

                <div class="form-group">
                    <label class="form-label" for="jerseyNumber">Jersey Number:</label>
                    <input class="form-input" type="number" id="jerseyNumber" name="jerseyNumber"
                        placeholder="Enter jersey number" required>
                </div>

                <div class="form-group">
                    <label class="form-label" for="playerCategory">Player Category:</label>
                    <select class="form-select" id="playerCategory" name="playerCategory" required>
                        <option value="">Select category</option>
                        <option value="allrounder1">Allrounder 1</option>
                        <option value="allrounder2">Allrounder 2</option>
                        <option value="allrounder3">Allrounder 3</option>
                        <option value="batsman1">Batsman 1</option>
                        <option value="batsman2">Batsman 2</option>
                        <option value="batsman3">Batsman 3</option>
                        <option value="batsman4">Batsman 4</option>
                        <option value="batsman5">Batsman 5</option>
                        <option value="bowler1">Bowler 1</option>
                        <option value="bowler2">Bowler 2</option>
                        <option value="bowler3">Bowler 3</option>
                        <option value="bowler4">Bowler 4</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label" for="playerPhoto">Player Photo:</label>
                    <input class="form-file" type="file" id="playerPhoto" name="playerPhoto" accept="image/*" required>
                </div>

                <button class="form-button" type="submit">Add Player</button>
            </form>
            <!-- Add Teams Form -->
            <form class="form-container team-form">
                <h2 class="form-title">Add Teams</h2>

                <div class="form-group">
                    <label class="form-label" for="teamName">Team Name:</label>
                    <input class="form-input" type="text" id="teamName" name="teamName" placeholder="Enter team name"
                        required>
                </div>

                <div class="form-group">
                    <label class="form-label" for="teamLogo">Team Logo:</label>
                    <input class="form-file" type="file" id="teamLogo" name="teamLogo" accept="image/*" required>
                </div>

                <div class="form-group">
                    <label class="form-label" for="teamOwner">Team Owner Name:</label>
                    <input class="form-input" type="text" id="teamOwner" name="teamOwner"
                        placeholder="Enter team owner name" required>
                </div>

                <button class="form-button" type="submit">Add Team</button>
            </form>
        </div>
    </section>
    <script src="script.js"></script>
    <script>
        window.addEventListener('load', function () {
            displayAuctionData();  // Display stored auction data when the page loads

            // Add event listener to the Delete Auction button
            document.getElementById('deleteAuction').addEventListener('click', function () {
                if (confirm('Are you sure you want to delete this auction?')) {
                    deleteAuctionData();
                    location.reload();  // Delete the auction data
                }
            });
        });

        // Function to display auction data from localStorage
        function displayAuctionData() {
            const leagueName = localStorage.getItem('leagueName');
            const walletPerTeam = localStorage.getItem('walletPerTeam');
            const baseValue = localStorage.getItem('baseValue');
            const bidIncrease = localStorage.getItem('bidIncrease');
            const playersPerTeam = localStorage.getItem('playersPerTeam');

            if (leagueName && walletPerTeam && baseValue && bidIncrease && playersPerTeam) {
                const auctionDetailsDiv = document.getElementById('auctionDetails');
                auctionDetailsDiv.innerHTML = `
          <p><strong>League Name:</strong> ${leagueName}</p>
          <p><strong>Wallet Per Team:</strong> ${walletPerTeam}</p>
          <p><strong>Base Value of Player:</strong> ${baseValue}</p>
          <p><strong>Bid Value Increase By:</strong> ${bidIncrease}</p>
          <p><strong>Players Per Team:</strong> ${playersPerTeam}</p>
        `;
            } else {
                document.getElementById('auctionDetails').innerHTML = '<p>No auction data found.</p>';
                document.getElementById('deleteAuction').style.display = 'none';  // Hide the delete button if no data
            }
        }

        // Function to delete auction data from localStorage
        function deleteAuctionData() {
            localStorage.clear();  // Clear all localStorage data

            alert('Auction deleted successfully!');
            window.location.href = 'auction-form.html';  // Redirect to the form page
        }
        document.querySelector(".player-form").addEventListener("submit", function (event) {
            event.preventDefault();

            const playerData = {
                playerName: document.getElementById("playerName").value,
                jerseyName: document.getElementById("jerseyName").value,
                jerseyNumber: document.getElementById("jerseyNumber").value,
                playerCategory: document.getElementById("playerCategory").value,
                playerPhoto: document.getElementById("playerPhoto").files[0] ? URL.createObjectURL(document.getElementById("playerPhoto").files[0]) : ""
            };

            // Store in localStorage
            const players = JSON.parse(localStorage.getItem("players")) || [];
            players.push(playerData);
            localStorage.setItem("players", JSON.stringify(players));

            alert("Player added successfully!");

            // Clear form
            event.target.reset();
        });

        // Handle Team Form Submission
        document.querySelector(".team-form").addEventListener("submit", function (event) {
            event.preventDefault();

            const teamData = {
                teamName: document.getElementById("teamName").value,
                teamOwner: document.getElementById("teamOwner").value,
                teamLogo: document.getElementById("teamLogo").files[0] ? URL.createObjectURL(document.getElementById("teamLogo").files[0]) : ""
            };

            // Store in localStorage
            const teams = JSON.parse(localStorage.getItem("teams")) || [];
            teams.push(teamData);
            localStorage.setItem("teams", JSON.stringify(teams));

            alert("Team added successfully!");

            // Clear form
            event.target.reset();
        });
    </script>
</body>

</html>